name: Lighthouse CI

on:
  push:
    branches: [ main ]
  pull_request:

jobs:
  lighthouse:
    name: Lighthouse CI
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Run Lighthouse CI
        uses: treosh/lighthouse-ci-action@v9
        with:
          urls: https://eusoualbertlima.github.io/funilemail/
          uploadArtifacts: true
          # Budget: values between 0.0 and 1.0 (require higher values for stricter checks)
          budget: '{"performance": 0.8, "accessibility": 0.9, "best-practices": 0.9, "seo": 0.9, "pwa": 0.5}'
